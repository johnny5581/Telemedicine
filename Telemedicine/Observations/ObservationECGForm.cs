using Hl7.Fhir.Model;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Runtime.InteropServices.WindowsRuntime;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using Telemedicine.Forms;

namespace Telemedicine.Observations
{
    public partial class ObservationECGForm : FormBase
    {
        private Random _rand
           = new Random();
        public ObservationECGForm()
        {
            InitializeComponent();
        }
        public DataType Effective
        {
            get { return cgLabelDateTimeRange1.GetEffective(); }
        }
        public List<Observation.ComponentComponent> GetObservationComponents()
        {
            return cgFlowLayoutPanel1.Controls.OfType<PictureBox>().Select(r => r.Tag as Observation.ComponentComponent).ToList();
        }

        public void SetObservationComponents(List<Observation.ComponentComponent> components)
        {
            Execute(() =>
            {
                cgFlowLayoutPanel1.Controls.Clear();
                foreach (var component in components)
                {
                    CreateAndSet(component);
                }
            });
           

        }








        private void button1_Click(object sender, EventArgs e)
        {
            Execute(() =>
            {
                cgFlowLayoutPanel1.Controls.Clear();
                foreach (var spec in VitalSign.ECG.ValueSpecs)
                {
                    var component = CreateComponent(spec.VitalSign);
                    CreateAndSet(component);
                }
            });
        }

        private void CreateAndSet(Observation.ComponentComponent component)
        {
            var image = new PictureBox { Size = new Size(1024, 200) };
            var bmp = new Bitmap(1024, 200);
            DrawComponent(bmp, component);
            image.Image = bmp;
            image.SizeMode = PictureBoxSizeMode.StretchImage;
            image.Tag = component;
            cgFlowLayoutPanel1.Controls.Add(image);
        }

        private void DrawComponent(Bitmap b, Observation.ComponentComponent component)
        {
            using (var g = Graphics.FromImage(b))
            {
                var bound = new Rectangle(new Point(0, 0), b.Size);
                g.SmoothingMode = System.Drawing.Drawing2D.SmoothingMode.AntiAlias;
                g.FillRectangle(Brushes.White, bound);
                g.DrawString(component.Code.Text, SystemFonts.DefaultFont, Brushes.Black, bound.Location);

                var sampleData = component.Value as SampledData;
                if (sampleData != null)
                {
                    var data = sampleData.Data.Split(' ');
                    var upper = (float)(sampleData.UpperLimit ?? 0);
                    var lower = (float)(sampleData.LowerLimit ?? 0);
                    var w = b.Width - 10f;
                    var h = b.Height - 10f;
                    var sw = w / data.Length;
                    var sh = h / (upper - lower);
                    var sx = 5;
                    var sy = 5;
                    var len = data.Length;

                    PointF lastPoint = PointF.Empty;
                    for (var i = 0; i < len; i++)
                    {
                        var value = Convert.ToSingle(data[i]);

                        var x = sx + i * sw;
                        var y = sy + ((value - lower) * sh);
                        y = h - y;
                        var p = new PointF(x, y);
                        if(!lastPoint.IsEmpty)
                        {
                            g.DrawLine(Pens.Black, lastPoint, p);
                        }
                        lastPoint = p;

                    }
                }
            }



        }
        private decimal CreateRandomValue(int index)
        {
            return Convert.ToDecimal(2000 + _rand.Next(2000) - 1000);
        }
        private Observation.ComponentComponent CreateComponent(VitalSign spec)
        {
            var component = new Observation.ComponentComponent();
            component.Code = spec.GetCode();
            var sampleData = new SampledData();

            sampleData.Period = Convert.ToDecimal(2.667);
            sampleData.Origin = new Quantity(0, null);
            sampleData.Factor = Convert.ToDecimal(0.001f);
            sampleData.LowerLimit = -2000;
            sampleData.UpperLimit = 2000;
            sampleData.Dimensions = 1;
            //sampleData.Data = Enumerable.Range(0, 100).Select(i => CreateRandomValue(i)).ToString(" ");
            sampleData.Data = "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1336 1329 1322 1313 1299 1289 1281 1265 1244 1221 1200 1188 1188 1194 1193 1181 1161 1146 1138 1136 1134 1130 1126 1127 1126 1121 1110 1095 1076 1055 1040 1036 1044 1062 1073 1068 1050 1029 1014 1006 1000 1002 1021 1057 1101 1139 1170 1200 1234 1265 1292 1313 1335 1368 1400 1423 1431 1424 1407 1378 1337 1305 1297 1317 1345 1353 1342 1334 1339 1357 1370 1374 1377 1388 1410 1426 1419 1389 1349 1324 1314 1309 1302 1294 1293 1296 1307 1321 1341 1358 1369 1370 1364 1361 1351 1326 1252 1093 871 707 751 1042 1474 1870 2129 2268 2355 2405 2388 2299 2165 2021 1880 1746 1625 1531 1465 1416 1369 1321 1284 1258 1230 1193 1147 1112 1121 1151 1160 1124 1059 1022 1048 1115 1172 1180 1152 1139 1151 1188 1212 1203 1206 1236 1276 1287 1243 1180 1150 1170 1228 1282 1317 1333 1314 1282 1264 1279 1329 1367 1367 1343 1318 1315 1318 1321 1326 1318 1300 1291 1294 1307 1320 1322 1313 1301 1299 1309 1319 1324 1316 1296 1282 1284 1299 1315 1322 1327 1342 1363 1382 1395 1401 1407 1419 1442 1475 1510 1541 1568 1599 1643 1694 1754 1812 1855 1892 1935 1995 2073 2150 2213 2263 2295 2319 2344 2369 2396 2417 2423 2426 2435 2451 2462 2451 2406 2345 2277 2210 2148 2075 1988 1897 1808 1720 1631 1539 1443 1342 1228 1114 1016 944 889 827 745 649 551 462 391 337 279 211 132 52 -29 -110 -190 -262 -319 -376 -445 -528 -605 -662 -702 -732 -772 -843 -977 -1166 -1340 -1383 -1197 -807 -357 16 265 420 522 556 499 377 216 42 -123 -260 -343 -378 -398 -420 -437 -435 -412 -395 -396 -401 -403 -396 -392 -396 -407 -426 -440 -448 -452 -467 -495 -526 -543 -543 -520 -475 -436 -422 -428 -431 -420 -406 -406 -419 -422 -406 -383 -372 -373 -371 -358 -331 -294 -268 -255 -246 -241 -222 -188 -149 -118 -104 -89 -71 -62 -36 18 79 127 150 147 145 162 195 232 256 278 319 374 437 490 516 521 534 574 624 659 652 629 632 661 701 730 751 780 811 821 807 778 754 753 767 794 821 841 847 829 831 854 876 871 819 752 713 720 752 766 739 701 667 652 650 629 585 520 462 443 457 462 429 359 297 264 244 218 170 113 69 44 18 -9 -40 -77 -102 -117 -135 -173 -234 -298 -346 -381 -414 -457 -524 -606 -694 -795 -917 -1078 -1297 -1515 -1629 -1559 -1306 -986 -724 -571 -503 -475 -488 -571 -735 -943 -1154 -1345 -1509 -1639 -1727 -1768 -1773 -1777 -1801 -1851 -1917 -1965 -1977 -1962 -1936 -1928 -1938 -1954 -1969 -1975 -1971 -1966 -1960 -1960 -1966 -1967 -1965 -1959 -1953 -1955 -1956 -1952 -1945 -1937 -1935 -1938 -1939 -1934 -1926 -1917 -1900 -1874 -1845 -1825 -1819 -1822 -1818 -1808 -1789 -1770 -1751 -1729 -1705 -1681 -1655 -1628 -1605 -1584 -1562 -1537 -1514 -1496 -1479 -1464 -1450 -1440 -1429 -1417 -1403 -1389 -1377 -1367 -1358 -1350 -1341 -1333 -1326 -1320 -1313 -1304 -1292 -1284 -1279 -1272 -1261 -1248 -1234 -1220 -1207 -1197 -1191 -1184 -1173 -1156 -1135 -1110 -1077 -1035 -987 -931 -868 -802 -738 -675 -612 -549 -487 -427 -362 -296 -233 -178 -129 -82 -33 15 64 111 154 195 240 292 343 385 412 435 459 487 513 534 547 554 562 576 596 612 623 629 634 640 641 638 631 621 608 586 544 451 294 125 52 161 451 816 1134 1344 1453 1501 1504 1451 1345 1205 1051 900 762 651 580 542 520 501 483 469 458 446 434 425 417 408 396 384 374 362 349 338 331 322 310 298 288 281 270 260 252 244 232 220 209 197 184 168 155 143 133 121 112 108 105 100 98 99 100 99 101 106 113 118 122 128 135 143 149 160 173 182 186 189 191 189 183 180 180 179 175 172 171 171 168 165 162 161 155 152 151 149 145 138 134 131 129 127 125 124 122 117 114 113 110 104 99 95 90 83 77 71 67 60 53 48 45 38 29 20 13 6 1 -1 -2 -4 -4 5 19 29 26 17 10 5 2 -1 -6 -17 -31 -40 -40 -37 -41 -48 -56 -59 -64 -74 -88 -103 -118 -139 -176 -256 -404 -582 -684 -606 -329 44 376 590 685 713 708 665 581 462 322 179 47 -63 -137 -175 -193 -209 -226 -239 -246 -252 -260 -266 -268 -270 -274 -279 -278 -279 -282 -285 -285 -283 -285 -289 -291 -291 -295 -299 -303 -303 -305 -310 -315 -317 -322 -328 -333 -332 -332 -334 -337 -335 -331 -328 -322 -314 -305 -296 -288 -277 -264 -254 -247 -238 -226 -216 -209 -202 -192 -186 -183 -181 -179 -178 -178 -176 -174 -172 -171 -172 -170 -170 -174 -177 -177 -176 -177 -181 -183 -180 -181 -182 -182 -181 -182 -186 -188 -186 -184 -186 -188 -188 -185 -186 -187 -186 -183 -183 -184 -185 -181 -179 -180 -182 -181 -182 -186 -190 -192 -193 -192 -189 -186 -183 -178 -165 -144 -126 -121 -124 -126 -122 -116 -112 -112 -116 -123 -128 -125 -116 -111 -111 -113 -112 -110 -113 -123 -134 -145 -159 -185 -248 -380 -561 -690 -655 -407 -26 345 608 751 815 840 822 748 620 453 273 112 -13 -92 -129 -146 -161 -179 -195 -203 -208 -213 -220 -225 -226 -230 -233 -234 -234 -235 -239 -242 -245 -247 -252 -255 -256 -257 -262 -267 -269 -271 -277 -283 -287 -290 -296 -302 -305 -306 -308 -309 -307 -302 -297 -293 -286 -275 -267 -257 -246 -230 -214 -200 -187 -172 -161 -151 -142 -132 -123 -118 -114 -110 -103 -99 -97 -94 -90 -89 -89 -89 -87 -86 -87 -87 -85 -85 -87 -89 -89 -89 -92 -95 -96 -96 -99 -102 -103 -103 -106 -109 -111 -110 -110 -111 -111 -109 -108 -111 -111 -108 -106 -104 -104 -101 -98 -97 -96 -96 -95 -99 -105 -109 -109 -108 -107 -107 -104 -97 -82 -63 -46 -42 -47 -53 -50 -43 -39 -42 -50 -60 -64 -63 -57 -54 -54 -58 -60 -60 -64 -76 -89 -101 -116 -150 -233 -384 -567 -672 -592 -302 97 460 708 849 929 971 952 855 686 473 259 84 -32 -94 -123 -143 -160 -179 -193 -202 -208 -213 -217 -220 -221 -223 -226 -229 -229 -229 -230 -234 -236 -239 -242 -246 -248 -251 -255 -261 -265 -268 -273 -279 -285 -287 -292 -298 -303 -306 -308 -310 -309 -306 -301 -296 -290 -282 -272 -263 -251 -237 -221 -207 -193 -180 -167 -155 -147 -139 -130 -122 -116 -112 -106 -103 -101 -100 -97 -94 -92 -91 -88 -85 -84 -85 -85 -84 -85 -87 -89 -89 -91 -95 -99 -100 -102 -104 -106 -107 -109 -111 -112 -112 -111 -111 -112 -111 -111 -112 -112 -112 -110 -108 -109 -108 -107 -105 -105 -103 -101 -99 -100 -101 -103 -106 -112 -114 -114 -112 -113 -112 -102 -84 -66 -53 -50 -54 -57 -55 -49 -45 -50 -61 -68 -69 -63 -58 -57 -57 -58 -61 -62 -66 -76 -89 -100 -116 -154 -249 -414 -587 -653 -519 -188 220 565 788 910 983 1017 981 861 673 455 250 90 -13 -62 -86 -105 -124 -140 -152 -162 -170 -174 -175 -177 -179 -180 -180 -179 -181 -181 -180 -180 -180 -181 -183 -183 -187 -189 -191 -192 -195 -199 -201 -204 -207 -211 -214 -217 -220 -223 -223 -221 -218 -215 -210 -202 -193 -185 -174 -161 -147 -133 -118 -103 -87 -74 -60 -47 -34 -25 -19 -12 -5 0 3 7 11 12 12 12 14 18 19 20 22 22 22 21 21 20 16 13 13 13 11 6 2 0 -2 -4 -5 -7 -8 -9 -10 -11 -11 -11 -11 -9 -8 -9 -10 -8 -7 -8 -10 -11 -11 -10 -13 -19 -26 -32 -33 -31 -29 -31 -30 -21 -3 14 18 13 8 9 13 18 17 9 -2 -7 -6 -1 0 -2 -5 -5 -7 -10 -18 -30 -42 -58 -87 -149 -275 -453 -593 -580 -359 7 380 656 815 895 932 917 832 690 518 345 191 66 -17 -61 -83 -102 -119 -133 -142 -150 -158 -165 -168 -171 -176 -181 -185 -188 -192 -195 -197 -199 -201 -204 -207 -209 -213 -219 -223 -226 -229 -235 -240 -244 -249 -254 -259 -261 -263 -263 -264 -262 -257 -255 -251 -244 -234 -226 -218 -206 -193 -181 -171 -161 -150 -142 -136 -129 -121 -115 -112 -111 -107 -104 -103 -101 -99 -96 -97 -99 -99 -99 -101 -104 -105 -105 -106 -109 -111 -110 -111 -114 -117 -117 -117 -120 -121 -119 -119 -121 -123 -122 -121 -122 -123 -122 -121 -121 -123 -121 -118 -117 -120 -120 -119 -119 -121 -125 -129 -133 -138 -139 -137 -135 -136 -131 -116 -97 -87 -87 -92 -94 -94 -89 -85 -86 -96 -107 -109 -101 -95 -95 -97 -98 -99 -101 -109 -118 -127 -140 -162 -205 -301 -465 -635 -699 -562 -240 148 468 665 756 795 796 742 629 475 309 156 27 -67 -122 -149 -168 -183 -198 -209 -216 -224 -233 -235 -237 -241 -246 -249 -249 -250 -254 -257 -257 -258 -262 -265 -265 -268 -271 -276 -278 -280 -285 -290 -292 -293 -298 -304 -305 -305 -306 -307 -305 -301 -297 -294 -287 -277 -267 -257 -247 -232 -218 -206 -195 -183 -172 -165 -159 -151 -142 -138 -135 -131 -125 -122 -121 -117 -113 -112 -113 -114 -112 -111 -114 -115 -113 -112 -114 -117 -117 -116 -118 -120 -120 -118 -117 -119 -118 -117 -116 -118 -116 -112 -112 -115 -115 -113 -110 -110 -108 -105 -101 -102 -102 -101 -98 -99 -102 -105 -108 -113 -116 -113 -108 -109 -107 -96 -75 -58 -51 -52 -54 -54 -51 -47 -44 -50 -61 -67 -63 -55 -52 -53 -54 -53 -54 -58 -65 -74 -86 -100 -124 -181 -309 -494 -639 -625 -395 -15 373 662 829 915 964 966 891 738 532 321 140 9 -66 -98 -116 -136 -156 -171 -179 -188 -196 -201 -203 -205 -211 -214 -214 -215 -219 -222 -223 -223 -227 -231 -233 -234 -238 -244 -246 -247 -250 -256 -262 -264 -268 -274 -278 -279 -280 -282 -282 -278 -272 -269 -265 -257 -247 -239 -230 -216 -201 -188 -175 -160 -145 -132 -124 -114 -101 -91 -84 -78 -72 -67 -65 -63 -58 -56 -57 -57 -54 -50 -50 -52 -53 -51 -53 -55 -54 -52 -52 -55 -57 -56 -55 -59 -61 -60 -61 -65 -67 -65 -63 -61 -61 -60 -58 -59 -60 -58 -55 -55 -57 -56 -52 -51 -52 -56 -61 -67 -72 -73 -70 -69 -70 -62 -45 -26 -17 -18 -22 -21 -17 -11 -8 -12 -24 -35 -36 -29 -24 -24 -26 -27 -28 -33 -38 -42 -42 -38 -38 -61 -151 -331 -545 -668 -586 -284 125 501 773 946 1059 1116 1081 942 732 502 292 124 6 -58 -91 -113 -134 -152 -165 -175 -185 -192 -196 -199 -204 -209 -212 -213 -216 -221 -224 -225 -227 -231 -235 -237 -241 -247 -252 -255 -259 -264 -271 -274 -279 -287 -293 -296 -298 -301 -303 -302 -298 -294 -291 -284 -274 -265 -258 -247 -232 -218 -205 -193 -178 -165 -155 -147 -135 -125 -118 -112 -104 -96 -90 -87 -82 -76 -73 -72 -70 -68 -66 -67 -66 -66 -66 -69 -70 -69 -69 -72 -74 -74 -74 -76 -79 -79 -78 -78 -80 -79 -77 -78 -79 -78 -77 -76 -77 -77 -75 -73 -74 -74 -71 -70 -71 -74 -75 -77 -83 -91 -93 -92 -94 -97 -94 -83 -67 -51 -39 -38 -42 -46 -42 -34 -32 -41 -51 -57 -56 -53 -49 -48 -47 -51 -55 -56 -59 -65 -65 -59 -61 -96 -204 -392 -594 -688 -568 -240 170 523 767 924 1029 1067 1003 848 643 432 243 91 -13 -72 -105 -129 -147 -161 -175 -188 -196 -200 -203 -207 -210 -212 -214 -218 -222 -223 -226 -231 -237 -238 -239 -240 -243 -244 -247 -251 -255 -259 -263 -268 -274 -278 -279 -283 -287 -290 -289 -287 -284 -278 -271 -262 -255 -247 -235 -222 -211 -199 -186 -171 -160 -152 -142 -132 -123 -116 -108 -99 -94 -91 -88 -83 -79 -79 -80 -81 -80 -80 -79 -78 -80 -83 -85 -84 -82 -83 -85 -85 -85 -87 -90 -90 -90 -89 -90 -91 -90 -90 -91 -93 -93 -92 -95 -97 -96 -95 -95 -96 -96 -97 -97 -97 -96 -96 -101 -109 -112 -111 -109 -109 -110 -105 -93 -78 -66 -61 -63 -69 -69 -63 -59 -62 -72 -80 -81 -79 -75 -72 -71 -74 -76 -79 -82 -87 -90 -85 -80 -97 -166 -317 -528 -696 -695 -465 -83 300 582 751 852 904 884 778 620 448 286 145 30 -49 -98 -128 -147 -160 -172 -183 -190 -195 -200 -205 -208 -209 -210 -213 -216 -217 -218 -219 -222 -223 -224 -226 -229 -231 -233 -235 -241 -245 -248 -251 -256 -262 -266 -268 -270 -270 -269 -266 -264 -260 -254 -247 -241 -233 -224 -211 -200 -188 -177 -165 -156 -150 -143 -135 -129 -124 -119 -112 -106 -103 -101 -98 -95 -93 -90 -88 -85 -86 -87 -87 -86 -85 -87 -88 -87 -87 -88 -87 -87 -87 -89 -91 -89 -87 -86 -86 -85 -84 -84 -84 -84 -82 -82 -82 -80 -79 -80 -80 -78 -76 -74 -76 -77 -76 -76 -80 -85 -90 -94 -96 -97 -96 -91 -81 -65 -48 -40 -42 -48 -49 -44 -38 -39 -47 -56 -63 -63 -58 -53 -51 -53 -55 -57 -60 -66 -69 -64 -59 -67 -118 -245 -448 -640 -690 -510 -144 259 577 780 902 976 981 899 745 557 368 202 70 -20 -73 -103 -121 -136 -150 -162 -169 -174 -178 -184 -187 -188 -189 -193 -195 -196 -196 -198 -200 -203 -207 -213 -216 -217 -219 -225 -232 -237 -239 -241 -244 -247 -250 -255 -258 -258 -255 -252 -248 -243 -236 -228 -220 -211 -199 -187 -175 -161 -147 -133 -123 -113 -101 -90 -82 -73 -64 -55 -50 -45 -42 -37 -33 -30 -27 -23 -21 -22 -21 -21 -21 -23 -25 -25 -25 -27 -28 -28 -27 -30 -33 -33 -32 -32 -33 -33 -33 -34 -35 -35 -33 -33 -32 -31 -29 -29 -27 -27 -26 -26 -26 -25 -22 -19 -20 -22 -23 -25 -29 -36 -43 -46 -47 -49 -50 -49 -41 -26 -10 2 2 -6 -9 -4 6 8 2 -7 -14 -15 -11 -5 -1 -1 -3 -5 -6 -10 -17 -14 -7 -5 -36 -137 -322 -533 -645 -539 -217 198 564 821 986 1097 1144 1094 949 739 509 301 137 30 -28 -62 -84 -98 -108 -119 -133 -146 -159 -171 -178 -183 -190 -198 -204 -207 -210 -214 -218 -219 -219 -221 -223 -224 -224 -227 -232 -237 -241 -247 -253 -258 -261 -263 -265 -266 -263 -259 -258 -256 -251 -242 -231 -223 -213 -202 -190 -178 -162 -148 -133 -121 -108 -96 -84 -76 -68 -58 -50 -44 -40 -35 -32 -31 -30 -30 -28 -28 -29 -29 -31 -34 -39 -41 -42 -43 -47 -51 -54 -57 -60 -62 -64 -65 -70 -73 -72 -72 -73 -75 -74 -72 -73 -73 -72 -70 -69 -69 -68 -65 -62 -60 -59 -57 -54 -54 -52 -49 -46 -45 -45 -44 -43 -45 -49 -54 -58 -62 -64 -63 -59 -54 -43 -25 -9 -2 -6 -10 -8 0 3 0 -8 -15 -19 -17 -10 -4 -2 -4 -5 -5 -9 -16 -19 -14 -10 -23 -81 -221 -429 -607 -618 -395 -8 392 701 904 1033 1108 1102 997 816 599 388 211 80 -2 -46 -72 -92 -110 -126 -135 -141 -147 -156 -162 -165 -166 -168 -171 -173 -176 -181 -184 -186 -186 -191 -198 -200 -202 -205 -211 -216 -220 -226 -233 -239 -243 -248 -254 -258 -258 -260 -261 -260 -256 -251 -247 -242 -232 -222 -211 -202 -190 -175 -162 -151 -140 -131 -123 -116 -108 -99 -92 -87 -81 -72 -67 -66 -65 -61 -57 -57 -57 -57 -56 -58 -62 -62 -62 -63 -66 -67 -66 -66 -68 -69 -69 -70 -72 -71 -70 -70 -73 -75 -74 -72 -73 -73 -72 -70 -72 -73 -72 -69 -67 -67 -66 -61 -59 -59 -59 -57 -57 -58 -57 -56 -60 -68 -75 -75 -71 -70 -72 -69 -60 -48 -37 -28 -25 -29 -33 -28 -24 -25 -35 -46 -49 -47 -44 -42 -41 -44 -48 -51 -51 -55 -60 -59 -54 -60 -102 -219 -415 -617 -698 -555 -208 199 528 732 845 912 918 841 697 525 357 205 78 -16 -73 -109 -131 -145 -156 -168 -177 -184 -188 -192 -198 -200 -201 -203 -206 -208 -207 -208 -211 -213 -214 -217 -222 -227 -228 -230 -236 -240 -243 -244 -249 -257 -262 -264 -266 -268 -268 -266 -264 -261 -256 -249 -240 -233 -224 -212 -200 -191 -181 -168 -157 -150 -144 -136 -127 -121 -117 -111 -105 -99 -95 -91 -85 -84 -85 -84 -80 -78 -80 -81 -82 -81 -82 -82 -80 -79 -82 -84 -83 -82 -83 -85 -85 -84 -84 -85 -83 -80 -80 -82 -83 -81 -80 -82 -81 -78 -74 -74 -73 -72 -70 -71 -71 -69 -66 -65 -66 -65 -62 -63 -65 -67 -68 -73 -80 -82 -81 -80 -83 -80 -66 -48 -35 -31 -33 -38 -39 -35 -29 -28 -36 -47 -50 -46 -40 -39 -38 -38 -39 -45 -49 -53 -54 -49 -49 -64 -132 -290 -507 -672 -651 -397 2 391 674 846 951 1007 985 867 688 491 310 157 38 -36 -76 -101 -121 -138 -149 -157 -165 -173 -176 -179 -181 -184 -186 -186 -190 -196 -198 -199 -202 -206 -208 -209 -212 -217 -219 -221 -224 -229 -235 -238 -242 -248 -254 -255 -256 -257 -258 -256 -252 -250 -248 -241 -228 -217 -207 -196 -183 -170 -159 -148 -136 -126 -119 -109 -99 -91 -85 -82 -76 -70 -66 -63 -58 -53 -51 -50 -47 -43 -43 -45 -46 -45 -45 -48 -48 -47 -45 -46 -48 -49 -50 -52 -53 -51 -49 -50 -53 -53 -53 -53 -54 -53 -50 -49 -49 -47 -44 -43 -45 -45 -41 -39 -39 -38 -36 -34 -35 -35 -33 -31 -32 -33 -32 -30 -33 -41 -47 -49 -50 -52 -51 -49 -44 -33 -17 -1 4 -2 -8 -6 1 4 1 -7 -16 -21 -19 -12 -7 -6 -10 -11 -10 -14 -22 -23 -15 -11 -30 -104 -264 -481 -644 -615 -347 62 454 741 924 1043 1103 1076 953 764 549 347 182 64 -6 -46 -70 -88 -104 -121 -132 -138 -142 -147 -152 -154 -155 -159 -163 -164 -165 -168 -172 -173 -174 -178 -183 -185 -186 -189 -196 -201 -204 -207 -212 -216 -220 -223 -229 -233 -234 -232 -232 -232 -227 -220 -216 -210 -200 -186 -176 -165 -152 -138 -126 -116 -104 -92 -82 -75 -68 -58 -49 -44 -40 -34 -29 -27 -26 -22 -17 -16 -17 -15 -12 -14 -16 -16 -13 -13 -17 -19 -18 -18 -20 -23 -22 -22 -24 -26 -25 -22 -22 -22 -19 -19 -22 -24 -24 -20 -19 -21 -19 -17 -16 -16 -15 -11 -10 -11 -10 -7 -4 -4 -4 -1 2 0 -3 -2 -2 -5 -12 -19 -23 -28 -32 -33 -27 -16 -2 14 25 24 17 13 19 28 29 21 12 5 4 6 11 15 11 7 5 6 1 -5 -3 5 4 -36 -148 -341 -547 -636 -500 -154 265 619 864 1023 1128 1165 1102 943 726 494 289 132 33 -20 -51 -73 -89 -105 -120 -131 -137 -143 -149 -154 -155 -157 -161 -164 -165 -166 -171 -174 -175 -176 -180 -186 -189 -191 -195 -200 -205 -208 -212 -220 -225 -228 -232 -237 -241 -241 -240 -243 -244 -239 -233 -227 -220 -211 -199 -188 -177 -163 -148 -135 -125 -114 -103 -92 -84 -76 -67 -58 -53 -48 -41 -36 -34 -33 -30 -26 -25 -25 -21 -19 -19 -21 -21 -21 -23 -26 -29 -29 -29 -31 -33 -33 -35 -38 -40 -40 -40 -42 -45 -44 -42 -43 -43 -43 -41 -41 -41 -40 -39 -39 -41 -40 -38 -37 -39 -40 -39 -36 -37 -36 -35 -34 -37 -40 -43 -46 -53 -58 -59 -58 -60 -62 -56 -40 -23 -12 -10 -13 -17 -16 -10 -5 -8 -21 -31 -32 -28 -25 -25 -25 -23 -26 -29 -34 -39 -40 -36 -34 -55 -137 -307 -520 -664 -612 -333 72 453 730 904 1018 1076 1042 907 711 502 313 155 36 -34 -73 -98 -117 -132 -142 -152 -162 -168 -171 -173 -176 -179 -181 -184 -187 -190 -191 -192 -195 -200 -202 -205 -210 -215 -217 -218 -222 -228 -231 -236 -243 -249 -254 -254 -254 -258 -259 -256 -253 -251 -246 -238 -228 -221 -212 -200 -185 -173 -162 -152 -140 -132 -125 -116 -106 -97 -91 -86 -79 -74 -70 -67 -63 -59 -58 -58 -55 -54 -54 -56 -56 -55 -56 -59 -59 -59 -59 -62 -62 -63 -63 -65 -65 -63 -63 -64 -65 -64 -62 -61 -60 -59 -59 -61 -63 -60 -57 -55 -55 -54 -52 -50 -49 -48 -46 -46 -47 -46 -44 -43 -46 -50 -53 -56 -57 -56 -55 -54";
                component.Value = sampleData;
            return component;
        }

        private void buttonOk_Click(object sender, EventArgs e)
        {
            DialogResult = DialogResult.OK;
        }

        private void buttonCancel_Click(object sender, EventArgs e)
        {
            DialogResult = DialogResult.Cancel;
        }
    }
}
